{% extends 'base.html' %}

{% block title %}{{ title }} - Inventory - Minibini{% endblock %}

{% block content %}
<h2>{{ title }}</h2>

<form method="post">
    {% csrf_token %}
    <table>
        {{ form.as_table }}
    </table>
    <br>
    <button type="submit">{{ button_text }}</button>
    <a href="{% url 'inventory:inventory_list' %}">Cancel</a>
</form>

<script>
    const unitsSelect = document.getElementById('id_units_select');
    const customRow = document.getElementById('id_units_custom').closest('tr');

    function toggleCustomUnits() {
        customRow.style.display = unitsSelect.value === 'other' ? '' : 'none';
    }

    unitsSelect.addEventListener('change', toggleCustomUnits);
    toggleCustomUnits();
</script>

{% endblock %}
